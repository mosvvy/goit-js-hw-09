{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["'use strict';\n\nconst keyName = 'feedback-form-state';\nlet formData = {\n  email: '',\n  message: '',\n};\n\nconst form = document.querySelector('.feedback-form');\n\nconst loadFromLocalStorage = () => {\n  const savedFormData = window.localStorage.getItem(keyName);\n\n  if (savedFormData) {\n    formData = JSON.parse(savedFormData);\n\n    form.email.value = formData.email;\n    form.message.value = formData.message;\n  }\n};\n\nconst saveInput = event => {\n  const inputField = event.target.nodeName;\n\n  switch (inputField) {\n    case 'INPUT':\n      formData.email = event.target.value.trim();\n      break;\n    case 'TEXTAREA':\n      formData.message = event.target.value.trim();\n      break;\n  }\n\n  localStorage.setItem(keyName, JSON.stringify(formData));\n};\n\nconst submitForm = event => {\n  event.preventDefault();\n\n  if (Object.values(formData).includes('')) {\n    window.alert('Fill please all fields');\n    return;\n  }\n\n  console.log(formData);\n  formData = {\n    email: '',\n    message: '',\n  };\n  localStorage.removeItem(keyName);\n  form.reset();\n};\n\nform.addEventListener('input', saveInput);\nform, addEventListener('submit', submitForm);\n\nloadFromLocalStorage();\n"],"names":["keyName","formData","form","loadFromLocalStorage","savedFormData","saveInput","event","submitForm"],"mappings":"wFAEA,MAAMA,EAAU,sBAChB,IAAIC,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAEA,MAAMC,EAAO,SAAS,cAAc,gBAAgB,EAE9CC,EAAuB,IAAM,CACjC,MAAMC,EAAgB,OAAO,aAAa,QAAQJ,CAAO,EAErDI,IACFH,EAAW,KAAK,MAAMG,CAAa,EAEnCF,EAAK,MAAM,MAAQD,EAAS,MAC5BC,EAAK,QAAQ,MAAQD,EAAS,QAElC,EAEMI,EAAYC,GAAS,CAGzB,OAFmBA,EAAM,OAAO,SAEd,CAChB,IAAK,QACHL,EAAS,MAAQK,EAAM,OAAO,MAAM,KAAI,EACxC,MACF,IAAK,WACHL,EAAS,QAAUK,EAAM,OAAO,MAAM,KAAI,EAC1C,KACH,CAED,aAAa,QAAQN,EAAS,KAAK,UAAUC,CAAQ,CAAC,CACxD,EAEMM,EAAaD,GAAS,CAG1B,GAFAA,EAAM,eAAc,EAEhB,OAAO,OAAOL,CAAQ,EAAE,SAAS,EAAE,EAAG,CACxC,OAAO,MAAM,wBAAwB,EACrC,MACD,CAED,QAAQ,IAAIA,CAAQ,EACpBA,EAAW,CACT,MAAO,GACP,QAAS,EACb,EACE,aAAa,WAAWD,CAAO,EAC/BE,EAAK,MAAK,CACZ,EAEAA,EAAK,iBAAiB,QAASG,CAAS,EAClC,iBAAiB,SAAUE,CAAU,EAE3CJ,EAAsB"}